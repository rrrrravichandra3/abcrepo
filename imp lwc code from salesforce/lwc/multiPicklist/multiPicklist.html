<template>
  <lightning-layout horizontal-align="center" vertical-align="start" multiple-rows class="slds-size_1-of-1">
    <template if:true={showSearch}>
      <lightning-layout-item size="12" class="slds-p-horizontal_small slds-p-bottom_small">
        <lightning-input name="search" label={labels.searchLabel} type="search" onchange={searchChangeHandler}>
        </lightning-input>
      </lightning-layout-item>
    </template>

    <template if:true={filteredPlValues}>
      <template for:each={filteredPlValues} for:item="picklistValue">
        <lightning-layout-item key={picklistValue.value} size="12"
          class="slds-border_bottom slds-grid slds-grid_align-spread slds-grid_vertical-align-center slds-p-vertical_x-small slds-p-horizontal_medium"
          onclick={handleSelected} data-plvalue={picklistValue.value}>
          <p class="slds-text-heading_small">
            {picklistValue.label}
          </p>
          <div class="slds-col">
            <template if:true={picklistValue.selected}>
              <lightning-button-icon-stateful size="small" icon-name="utility:check" selected={picklistValue.selected}
                data-plvalue={picklistValue.value} onclick={handleSelected} alternative-text="Select">
              </lightning-button-icon-stateful>
            </template>
            <template if:false={picklistValue.selected}>
              <lightning-button-icon-stateful size="small" icon-name="" selected={picklistValue.selected}
                data-plvalue={picklistValue.value} onclick={handleSelected} alternative-text="Select">
              </lightning-button-icon-stateful>
            </template>
          </div>
        </lightning-layout-item>
      </template>
    </template>
  </lightning-layout>
</template>